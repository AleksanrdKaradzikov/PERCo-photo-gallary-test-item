(this["webpackJsonpperco-gallary"]=this["webpackJsonpperco-gallary"]||[]).push([[0],{165:function(e,t,a){e.exports=a(330)},172:function(e,t,a){},330:function(e,t,a){"use strict";a.r(t);for(var s=a(0),o=a.n(s),n=a(4),r=a.n(n),c=(a(170),a(171),a(172),a(44)),l=a(72),p=a(60),m=a(134),i=a(135),g=a(159),u=a(162),h=a(339),d=a(338),b=a(335),x=a(336),C=a(332),v=a(333),y=a(340),E=a(341),j=a(342),w=function(e){var t=e.comments;return o.a.createElement(b.a,{dataSource:t,header:"".concat(t.length," ").concat(t.length>1?"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u044f":"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"),itemLayout:"horizontal",renderItem:function(e){return o.a.createElement(C.a,e)}})},k=a(337),f=a(334),T=a(35),L=k.a.TextArea,S=function(e){var t=e.onChange,a=e.handleSubmit,s=e.submitting,n=e.value;return o.a.createElement("div",null,o.a.createElement(f.a.Item,null,o.a.createElement(k.a,{value:n.name,onChange:t,placeholder:"\u0412\u0430\u0448\u0435 \u0438\u043c\u044f",name:"name"})),o.a.createElement(f.a.Item,null,o.a.createElement(L,{placeholder:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",name:"content",rows:4,onChange:t,value:n.content})),o.a.createElement(f.a.Item,null,o.a.createElement(T.a,{htmlType:"submit",loading:s,onClick:a,type:"primary"},"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c")))},N=["https://images.pexels.com/photos/251225/pexels-photo-251225.jpeg?auto=compress&cs=tinysrgb&dpr=2&w=500","https://images.pexels.com/photos/317355/pexels-photo-317355.jpeg?auto=compress&cs=tinysrgb&dpr=2&w=500","https://images.pexels.com/photos/3819967/pexels-photo-3819967.jpeg?auto=compress&cs=tinysrgb&dpr=2&w=500","https://images.pexels.com/photos/3987020/pexels-photo-3987020.jpeg?auto=compress&cs=tinysrgb&dpr=2&w=500","https://images.pexels.com/photos/3987033/pexels-photo-3987033.jpeg?auto=compress&cs=tinysrgb&dpr=2&w=500","https://images.pexels.com/photos/3815585/pexels-photo-3815585.jpeg?auto=compress&cs=tinysrgb&dpr=2&w=500","https://images.pexels.com/photos/3813336/pexels-photo-3813336.jpeg?auto=compress&cs=tinysrgb&dpr=2&w=500","https://images.pexels.com/photos/3987025/pexels-photo-3987025.jpeg?auto=compress&cs=tinysrgb&dpr=2&w=500","https://images.pexels.com/photos/3815580/pexels-photo-3815580.jpeg?auto=compress&cs=tinysrgb&dpr=2&w=500","https://images.pexels.com/photos/3194519/pexels-photo-3194519.jpeg?auto=compress&cs=tinysrgb&dpr=2&w=500","https://images.pexels.com/photos/3584996/pexels-photo-3584996.jpeg?auto=compress&cs=tinysrgb&dpr=2&w=500","https://images.pexels.com/photos/34140/pexels-photo.jpg?auto=compress&cs=tinysrgb&dpr=2&w=500","https://images.pexels.com/photos/3653849/pexels-photo-3653849.jpeg?auto=compress&cs=tinysrgb&dpr=2&w=500","https://images.pexels.com/photos/3759080/pexels-photo-3759080.jpeg?auto=compress&cs=tinysrgb&dpr=2&w=500","https://images.pexels.com/photos/34580/pexels-photo.jpg?auto=compress&cs=tinysrgb&dpr=2&w=500","https://images.pexels.com/photos/3769717/pexels-photo-3769717.jpeg?auto=compress&cs=tinysrgb&dpr=2&w=500","https://images.pexels.com/photos/3786763/pexels-photo-3786763.jpeg?auto=compress&cs=tinysrgb&dpr=2&w=500","https://images.pexels.com/photos/58709/pexels-photo-58709.jpeg?auto=compress&cs=tinysrgb&dpr=2&w=500","https://images.pexels.com/photos/3194521/pexels-photo-3194521.jpeg?auto=compress&cs=tinysrgb&dpr=2&w=500","https://images.pexels.com/photos/3183202/pexels-photo-3183202.jpeg?auto=compress&cs=tinysrgb&dpr=2&w=500","https://images.pexels.com/photos/3727459/pexels-photo-3727459.jpeg?auto=compress&cs=tinysrgb&dpr=2&w=500","https://images.pexels.com/photos/3787327/pexels-photo-3787327.jpeg?auto=compress&cs=tinysrgb&dpr=2&w=500","https://images.pexels.com/photos/3787300/pexels-photo-3787300.jpeg?auto=compress&cs=tinysrgb&dpr=2&w=500","https://images.pexels.com/photos/3790797/pexels-photo-3790797.jpeg?auto=compress&cs=tinysrgb&dpr=2&w=500","https://images.pexels.com/photos/3787317/pexels-photo-3787317.jpeg?auto=compress&cs=tinysrgb&dpr=2&w=500","https://images.pexels.com/photos/3759059/pexels-photo-3759059.jpeg?auto=compress&cs=tinysrgb&dpr=2&w=500","https://images.pexels.com/photos/3803221/pexels-photo-3803221.jpeg?auto=compress&cs=tinysrgb&dpr=2&w=500","https://images.pexels.com/photos/3789084/pexels-photo-3789084.jpeg?auto=compress&cs=tinysrgb&dpr=2&w=500","https://images.pexels.com/photos/3804036/pexels-photo-3804036.jpeg?auto=compress&cs=tinysrgb&dpr=2&w=500","https://images.pexels.com/photos/3184459/pexels-photo-3184459.jpeg?auto=compress&cs=tinysrgb&dpr=2&w=500","https://images.pexels.com/photos/3787808/pexels-photo-3787808.jpeg?auto=compress&cs=tinysrgb&dpr=2&w=500"],I=(a(321),[]),O=0;O<N.length;O++)I.push({id:O+1,imgUrl:N[O],title:"\u0424\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044f ".concat(O+1),likesCount:0,likeToggle:!1,comments:[{author:"\u041c\u0430\u043a\u0441\u0438\u043c",avatar:"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png",content:"\u041e\u0442\u043b\u0438\u0447\u043d\u0430\u044f \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044f!",datetime:"".concat((new Date).toLocaleDateString()," \u0432 ").concat((new Date).toLocaleTimeString())}]});var A=function(e){var t=e.type,a=e.message,s=e.description,o=void 0===s?null:s;h.a[t]({message:a,description:o})},_=function(e){Object(u.a)(a,e);var t=Object(g.a)(a);function a(e){var s;return Object(m.a)(this,a),(s=t.call(this,e)).handleChange=function(e){var t=e.target.name,a=e.target.value;s.setState({form:Object(p.a)({},s.state.form,Object(l.a)({},t,a))})},s.pushCommnet=function(e,t){var a=s.state.dataGallary,o=a.findIndex((function(t){return t.id===e})),n=Object(p.a)({},a[o],{comments:[t].concat(Object(c.a)(a[o].comments))}),r=[].concat(Object(c.a)(a.slice(0,o)),[n],Object(c.a)(a.slice(o+1)));s.setState({dataGallary:r})},s.handleSubmit=function(){var e=s.state,t=e.form,a=e.currentId;if(!t.name||t.name.length<3){A({type:"error",message:"\u0418\u043c\u044f \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435!",description:"\u0418\u043c\u044f \u043d\u0435 \u043c\u0435\u043d\u0435\u0435 3 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432!"})}else if(!t.content||t.content.length<5){A({type:"error",message:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u043e\u0431\u044f\u0437\u0430\u0442\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435!",description:"\u0422\u0435\u043a\u0441\u0442 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u044f \u043d\u0435 \u043c\u0435\u043d\u0435\u0435 5 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432!"})}else s.setState({submitting:!0}),setTimeout((function(){var e={author:t.name,avatar:"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png",content:o.a.createElement("p",null,t.content),datetime:"".concat((new Date).toLocaleDateString()," \u0432 ").concat((new Date).toLocaleTimeString())};s.setState({submitting:!1,currentCommentCount:s.state.currentCommentCount+1,form:{name:"",content:""},currentCommnets:[e].concat(Object(c.a)(s.state.currentCommnets))},(function(){s.pushCommnet(a,e)})),A({type:"success",message:"\u0412\u0430\u0448 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d!"})}),1e3)},s.handleOk=function(){s.setState({visibleModal:!1,previeImg:null,previeTitle:null,currentId:null,currentLikesCount:null,currentCommentCount:null,currentCommnets:[],form:{name:"",content:""},submitting:!1})},s.handleCancel=function(){s.setState({visibleModal:!1,previeImg:null,previeTitle:null,currentId:null,currentLikesCount:null,currentCommentCount:null,currentCommnets:[],form:{name:"",content:""},submitting:!1})},s.handleShowModal=function(e){return function(){s.setState(Object(p.a)({visibleModal:!0},e))}},s.handleChangeLikeToggle=function(e){return function(){var t=s.state.dataGallary,a=t.findIndex((function(t){return t.id===e})),o=Object(p.a)({},t[a],{likeToggle:!t[a].likeToggle,likesCount:t[a].likeToggle?0:1}),n=[].concat(Object(c.a)(t.slice(0,a)),[o],Object(c.a)(t.slice(a+1)));s.setState({dataGallary:n,currentLikesCount:t[a].likeToggle?0:1,currentToggleLike:!t[a].likeToggle})}},s.renderPage=function(e){return o.a.createElement("div",{className:"col-12 col-lg-4 col-md-4 col-xs-4 col-sm-12 mb-3"},o.a.createElement("div",{className:"card-wrapp"},o.a.createElement("div",{onClick:s.handleShowModal({previeImg:e.imgUrl,previeTitle:e.title,currentId:e.id,currentLikesCount:e.likesCount,currentCommentCount:e.comments.length,currentToggleLike:e.likeToggle,currentCommnets:e.comments}),className:"card-wrapp__image-wrapp"},o.a.createElement("img",{className:"card-wrapp__image",src:e.imgUrl,alt:e.title})),o.a.createElement("hr",{className:"hr"}),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-6"},o.a.createElement("span",{className:"card-wrapp__title"},o.a.createElement("b",null,e.title))),o.a.createElement("div",{className:"col-3"},o.a.createElement(d.a,{title:"\u041b\u0430\u0439\u043a\u0438 ".concat(e.likesCount)},o.a.createElement("span",{onClick:s.handleChangeLikeToggle(e.id),className:"card-wrapp__likes-count"},o.a.createElement(E.a,{style:{color:e.likeToggle?"#1890FF":"#AAAAAA"}}),e.likesCount))),o.a.createElement("div",{className:"col-3"},o.a.createElement(d.a,{onClick:s.handleShowModal({previeImg:e.imgUrl,previeTitle:e.title,currentId:e.id,currentLikesCount:e.likesCount,currentCommentCount:e.comments.length,currentToggleLike:e.likeToggle,currentCommnets:e.comments}),title:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438 ".concat(e.comments.length)},o.a.createElement("span",{className:"card-wrapp__commnets-count"},o.a.createElement(j.a,{style:{color:"#1890FF"}}),e.comments.length))))))},s.state={dataGallary:I,visibleModal:!1,previeImg:null,previeTitle:null,currentId:null,currentLikesCount:null,currentCommentCount:null,currentToggleLike:!1,currentCommnets:[],form:{name:"",content:""},submitting:!1},s}return Object(i.a)(a,[{key:"render",value:function(){var e=this.state,t=e.dataGallary,a=e.visibleModal,s=e.previeImg,n=e.previeTitle,r=e.currentLikesCount,c=e.currentCommentCount,l=e.currentId,p=e.currentToggleLike,m=e.currentCommnets,i=e.form,g=e.submitting;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"container mt-5 mb-5"},o.a.createElement(b.a,{itemLayout:"vertical",size:"large",grid:{lg:3,xl:3,xxl:3,xs:12,sm:6,md:3},dataSource:t,pagination:{onChange:function(e){console.log(e)},pageSize:9},footer:o.a.createElement("div",{className:"footer"},o.a.createElement("b",null,"PERCo")," photo-gallary by ",o.a.createElement("a",{target:"_blanck",href:"https://vk.com/karadzhikov.shura"},"\u0410\u043b\u0435\u043a\u0441\u0430\u043d\u0434\u0440 \u041a\u0430\u0440\u0430\u0434\u0436\u0438\u043a\u043e\u0432")),renderItem:this.renderPage}),o.a.createElement(x.a,{title:n,onOk:this.handleOk,visible:a,onCancel:this.handleCancel},o.a.createElement("img",{src:s,alt:n,className:"modal-image"}),o.a.createElement("hr",{className:"hr"}),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col"},o.a.createElement(d.a,{title:"\u041b\u0430\u0439\u043a\u0438 ".concat(r)},o.a.createElement("span",{onClick:this.handleChangeLikeToggle(l),className:"card-wrapp__likes-count"},o.a.createElement(E.a,{style:{color:p?"#1890FF":"#AAAAAA"}}),r))),o.a.createElement("div",{className:"col"},o.a.createElement(d.a,{title:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438 ".concat(c)},o.a.createElement("span",{className:"card-wrapp__commnets-count"},o.a.createElement(j.a,{style:{color:"#1890FF"}}),c)))),m.length>0&&o.a.createElement(w,{comments:m}),o.a.createElement("hr",{className:"hr"}),o.a.createElement(C.a,{avatar:o.a.createElement(v.a,{src:"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png",alt:"Han Solo"}),content:o.a.createElement(S,{onChange:this.handleChange,handleSubmit:this.handleSubmit,submitting:g,value:i})}))),o.a.createElement(y.a,{style:{bottom:"15px",right:"8px"}}))}}]),a}(o.a.Component);r.a.render(o.a.createElement(_,null),document.getElementById("root"))}},[[165,1,2]]]);
//# sourceMappingURL=main.4af28d4c.chunk.js.map